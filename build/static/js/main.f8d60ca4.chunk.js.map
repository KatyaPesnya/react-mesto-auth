{"version":3,"sources":["images/header-logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/success.svg","images/not-success.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","onSignOut","authorizationEmail","location","useLocation","React","useState","menuIsOpen","setMenuIsOpen","className","type","onClick","src","logo","alt","pathname","to","Footer","Date","getFullYear","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","link","name","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","aria-label","cards","map","PopupWithForm","isOpen","onSubmit","title","children","submitText","onClose","ImagePopup","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","placeholder","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","all","getUserInfo","getCards","fetch","then","_checkResponse","data","method","body","JSON","stringify","setLike","deleteLike","Authorization","ProtectedRoute","Component","component","Login","onLogin","onCheckToken","email","password","loginData","setLoginData","handleChange","Register","onRegister","registerData","setRegisterData","InfoTooltip","isSuccess","success","notSuccess","BASE_URL","checkResponse","response","Error","statusText","App","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","selectedCard","setSelectedCard","setCurrentUser","setAuthorizationEmail","setLoggedIn","setIsSuccess","history","useHistory","handleInfoToolTipOpen","closeAllPopups","catch","err","console","log","checkToken","useCallback","token","Accept","auth","localStorage","getItem","push","Provider","removeItem","path","setItem","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setUserInfo","createCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f8d60ca4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.5f3664ca.svg\";","import React from \"react\";\nimport logo from \"../images/header-logo.svg\";\nimport { NavLink, useLocation } from \"react-router-dom\";\n\nfunction Header({ loggedIn, onSignOut, authorizationEmail }) {\n  const location = useLocation();\n\n  const [menuIsOpen, setMenuIsOpen] = React.useState(false);\n\n  function handleToggleMenu() {\n    setMenuIsOpen(!menuIsOpen);\n  }\n\n  function handleSignOut() {\n    setMenuIsOpen(false);\n    onSignOut();\n  }\n\n  return (\n    <header\n      className={\n        loggedIn\n          ? \"header header_row-reverse page__content\"\n          : \"header page__content\"\n      }\n    >\n     \n      {loggedIn && (\n        <div\n          className={\n            menuIsOpen\n              ? \"header__container header__container_opened\"\n              : \"header__container\"\n          }\n        >\n          <address className=\"header__address\">\n            {authorizationEmail && authorizationEmail}\n          </address>\n          <button\n            className=\"header__button\"\n            type=\"button\"\n            onClick={handleSignOut}\n          >\n            Выйти\n          </button>\n        </div>\n      )}\n      <div className=\"header__container-main\">\n      <img src={logo} alt=\"логотип Mesto Russia\" className=\"header__logo\" />\n        {loggedIn && (\n          <button\n            className={\n              menuIsOpen\n                ? \"header__menu-button header__menu-button_opened\"\n                : \"header__menu-button\"\n            }\n            type=\"button\"\n            onClick={handleToggleMenu}\n          />\n        )}\n        {!loggedIn && (\n          <nav>\n            {location.pathname === \"/sign-in\" && (\n              <NavLink className=\"header__navlink\" to=\"/sign-up\">\n                Регистрация\n              </NavLink>\n            )}\n            {location.pathname === \"/sign-up\" && (\n              <NavLink className=\"header__navlink\" to=\"sign-in\">\n                Войти\n              </NavLink>\n            )}\n          </nav>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__content\">\n      <p className=\"footer__copyright\">\n        &copy; {new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext()\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `card__delete-button ${\n    isOwn ? \"card__delete-button_visible\" : \"card__delete-button_hidden\"\n  }`;\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = `card__like ${\n    isLiked ? \"card__like_active\" : \"card__like\"\n  }`;\n\n  function handleCardClick() {\n    props.onCardClick(props.card);\n  }\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n  return (\n    <li className=\"card\">\n      <img\n        className=\"card__image\"\n        onClick={handleCardClick}\n        src={props.card.link}\n        alt={`Фотография ${props.card.name}`}\n      />\n      <button\n        type=\"button\"\n        onClick={handleCardDelete}\n        className={cardDeleteButtonClassName}\n      />\n      <div className=\"card__item\">\n        <h2 className=\"card__title text-content\">{props.card.name} </h2>\n        <div className=\"card__like-container\">\n          <button\n            type=\"button\"\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n          />\n          <span className=\"card__like-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile page__content\">\n        <div className=\"profile__overlay\">\n          <img\n            src={currentUser.avatar}\n            alt={`Аватар пользователя ${currentUser.name}`}\n            className=\"profile__avatar\"\n          />\n          <button\n            onClick={props.onEditAvatar}\n            className=\"profile__avatar-edit-button\"\n          />\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title text-content\">{currentUser.name}</h1>\n          <p className=\"profile__description text-content\">\n            {currentUser.about}\n          </p>\n          <button\n            onClick={props.onEditProfile}\n            type=\"button\"\n            className=\"profile__popup-button\"\n          />\n        </div>\n        <button\n          onClick={props.onAddPlace}\n          type=\"button\"\n          className=\"profile__add-button\"\n        />\n      </section>\n      <section className=\"cards\" aria-label=\"#\">\n        <ul className=\"cards__list\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={`overlay ${props.isOpen && \"overlay_opened\"}`}>\n      <div className={`popup popup_type_${props.name}`}>\n        <form\n          className=\"popup__container\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n        >\n          <h2 className=\"popup__heading\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"popup__button\">\n            {props.submitText}\n          </button>\n        </form>\n        <button\n          onClick={props.onClose}\n          type=\"button\"\n          className=\" overlay__close popup__close\"\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <section\n      className={`overlay overlay_type_preview ${\n        props.card && \"overlay_opened\"\n      }`}\n      aria-label=\"#\"\n    >\n      <div className=\"overlay__container overlay__container_type_image\">\n        <img\n          src={props.card && props.card.link}\n          alt={`Фотография ${props.card && props.card.name} `}\n          className=\"overlay__image\"\n        />\n        <h2 className=\"overlay__caption\">{props.card && props.card.name}</h2>\n        <button\n          onClick={props.onClose}\n          type=\"button\"\n          className=\"overlay__close  overlay__close_type_image\"\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      submitText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input\"\n        id=\"name-input\"\n        type=\"text\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n        value={name || \"\"}\n        onChange={handleChangeName}\n      />\n      <span className=\"popup__input-error name-input-error\" />\n      <input\n        className=\"popup__input\"\n        id=\"job-input\"\n        type=\"text\"\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        value={description || \"\"}\n        onChange={handleChangeDescription}\n      />\n      <span className=\"popup__input-error job-input-error\" />\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n    avatarRef.current.value = \"\";\n  }\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      submitText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"avatar-input\"\n        type=\"url\"\n        name=\"avatar\"\n        required\n        className=\"popup__input\"\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error avatar-input-error\" />\n    </PopupWithForm>\n  );\n}\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link,\n     \n    })\n  }\n\n  \n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      submitText=\"Создать\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"title-input\"\n        type=\"text\"\n        name=\"caption\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        placeholder=\"Название\"\n        className=\"popup__input\"\n        value={name || \"\"}\n        onChange={handleChangeName}\n      />\n      <span className=\"popup__input-error title-input-error\" />\n      <input\n        id=\"url-input\"\n        type=\"url\"\n        name=\"url\"\n        required\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__input\"\n        value={link || \"\"}\n        onChange={handleChangeLink}\n      />\n      <span className=\"popup__input-error url-input-error\" />\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","\n class Api {\n    constructor(options) {\n        this._url = options.url;\n        this._headers = options.headers;\n    }\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n    getData() {\n        return Promise.all([this.getUserInfo(), this.getCards()]);\n    }\n    getCards() {\n        return fetch(`${this._url}/cards`, {\n             headers: this._headers })\n            .then(this._checkResponse)\n    }\n    createCard(data) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._checkResponse)\n    }\n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._checkResponse)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers,\n        })\n            .then(this._checkResponse)\n    }\n   changeLikeCardStatus(id, isLiked) {\n     if (isLiked) {\n       return this.setLike(id);\n     } else {\n       return this.deleteLike(id);\n     }\n   }\n\n    setUserInfo(data) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._checkResponse)\n    }\n    setUserAvatar(data) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n              })\n            })\n            .then(this._checkResponse)\n    }\n\n    setLike(id) {\n        return fetch(`${this._url}/cards/likes/${id}`, {\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then(this._checkResponse)\n    }\n    deleteLike(id) {\n        return fetch(`${this._url}/cards/likes/${id}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._checkResponse)\n    }\n}\n\n const api = new Api({\n     url: 'https://mesto.nomoreparties.co/v1/cohort-21',\n     headers: {\n     Authorization: '8bc2b522-b2e5-4475-a3df-8cf1760d3928',\n        'Content-Type': 'application/json'\n    }\n  }\n)\n export default  api;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useState } from \"react\";\n\nfunction Login({ onLogin, onCheckToken}) {\n  const [loginData, setLoginData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setLoginData({ ...loginData, [name]: value });\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onLogin(loginData);\n  }\n\n  return (\n    <div className=\"login\">\n      <h3 className=\"login__info\">Вход</h3>\n      <form onSubmit={handleSubmit} className=\"login__form\">\n        <input\n          required\n          name=\"email\"\n          type=\"email\"\n          className=\"login__input\"\n          placeholder=\"Email\"\n          onChange={handleChange}\n          value={loginData.email}\n        />\n        <input\n          required\n          name=\"password\"\n          type=\"password\"\n          className=\"login__input\"\n          placeholder=\"Пароль\"\n          onChange={handleChange}\n          value={loginData.password}\n        />\n        <button type=\"submit\" className=\"login__button\">\n           Войти{\" \"}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n  const [registerData, setRegisterData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  function handleChange(e) {\n    const { name, value } = e.target;\n    setRegisterData({ ...registerData, [name]: value });\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onRegister(registerData);\n  }\n\n  return (\n    <div className=\"register\">\n      <h3 className=\"register__info\">Регистрация</h3>\n      <form onSubmit={handleSubmit} className=\"register__form\">\n        <input\n          required\n          name=\"email\"\n          type=\"email\"\n          className=\"register__input\"\n          placeholder=\"Email\"\n          onChange={handleChange}\n          value={registerData.email}\n        />\n        <input\n          required\n          name=\"password\"\n          type=\"password\"\n          className=\"register__input\"\n          placeholder=\"Пароль\"\n          onChange={handleChange}\n          value={registerData.password}\n        />\n        <button type=\"submit\" className=\"register__button\">\n           Зарегистрироваться{\" \"}\n        </button>\n      </form>\n      <p className=\"register__paragraph\">\n        Уже зарегистриваны?{\" \"}\n        <Link className=\"register__link\" to=\"/sing-in\">\n          {\" \"}\n          Войти{\" \"}\n        </Link>\n      </p>\n    </div>\n  );\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/not-success.df8eddf6.svg\";","import React from \"react\";\nimport success from \"../images/success.svg\";\nimport notSuccess from \"../images/not-success.svg\";\n\nfunction InfoTooltip(props) {\n  return (\n    <section className={`overlay ${props.isOpen && \"overlay_opened\"}`}>\n      <div className={`popup popup_type_${props.name}`}>\n        <div className=\"popup__container\" name={props.name}>\n          <img\n            className=\"popup__icon\"\n            src={props.isSuccess ? success : notSuccess}\n            alt={\n              props.isSuccess\n                ? \"успешная регистрация\"\n                : \"неуспешная регистрация\"\n            }\n          />\n          <h3 className=\"popup__title\">\n            {props.isSuccess\n              ? \"Вы успешно зарегистрировались\"\n              : \"Что-то пошло не так! Попробуйте еще раз.\"}\n          </h3>\n        </div>\n        <button\n          onClick={props.onClose}\n          type=\"button\"\n          className=\" overlay__close popup__close\"\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nconst checkResponse = (response) => {\n  return response.ok\n    ? response.json()\n    : Promise.reject(\n        new Error(`Ошибка ${response.status}: ${response.statusText}`)\n      );\n};\n\nexport const register = (data) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password: data.password, email: data.email }),\n  }).then((response) => checkResponse(response));\n};\n\nexport const autorize = (data) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password: data.password, email: data.email }),\n  }).then((response) => checkResponse(response));\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((response) => checkResponse(response));\n};\n","import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { Route, Switch, useHistory, Redirect } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoToolTip from \"./InfoTooltip\";\nimport * as auth from \"../utils/auth\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [authorizationEmail, setAuthorizationEmail] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const history = useHistory();\n\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c !== card));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleAddPlaceSubmit(data) {\n    api\n      .createCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  React.useEffect(() => {\n    api\n      .getCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleInfoToolTipOpen() {\n    setIsInfoToolTipOpen(!isInfoToolTipOpen);\n  }\n\n  function handleInfoToolTipOpen() {\n    setIsInfoToolTipOpen(!isInfoToolTipOpen);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setSelectedCard(null);\n  }\n  function handleUpdateUser(data) {\n    api\n      .setUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleUpdateAvatar(data) {\n    api\n      .setUserAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function register(data) {\n    auth.register(data).then(\n      (data) => {\n        setIsSuccess(true);\n        handleInfoToolTipOpen();\n        history.push(\"/sign-in\");\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsSuccess(false);\n        handleInfoToolTipOpen();\n        })\n  }\n\n  function login(data) {\n    auth.autorize(data).then(\n      (data) => {\n        setLoggedIn(true);\n        localStorage.setItem(\"jwt\", data.token);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n  }\n\n  const checkToken = React.useCallback(() => {\n    \n    const token = localStorage.getItem(\"jwt\");\n\n    auth.checkToken(token).then(\n      (data) => {\n        setLoggedIn(true);\n        setAuthorizationEmail(data.data.email);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n      }\n    );\n  }, [history]);\n\n  React.useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      checkToken();\n    }\n  }, [checkToken]);\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"root\">\n          <div className=\"page\">\n            <Header\n              loggedIn={loggedIn}\n              onSignOut={handleSignOut}\n              authorizationEmail={authorizationEmail}\n            />\n            <Switch>\n              <Route path=\"/sign-up\">\n                <Register onRegister={register} />\n              </Route>\n              <Route path=\"/sign-in\">\n                <Login onLogin={login} onCheckToken={checkToken} />\n              </Route>\n\n              <ProtectedRoute\n                path exact=\"/\"\n                component={Main}\n                loggedIn={loggedIn}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n              />\n              <Route>\n                {loggedIn ? <Redirect to=\"/sign-in\" /> : <Redirect to=\"/\" />}\n              </Route>\n            </Switch>\n            <Footer />\n          </div>\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <PopupWithForm\n            name=\"delete-card\"\n            title=\"Вы уверены?\"\n            submitText=\"Да\"\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n      <InfoToolTip\n        isOpen={isInfoToolTipOpen}\n        onClose={closeAllPopups}\n        isSuccess={isSuccess}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}